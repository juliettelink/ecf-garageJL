#table opinion
CREATE TABLE opinion(
	opinion_id INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    nameClient VARCHAR (50) NOT NULL,
    comment VARCHAR (250) NOT NULL,
	note INT NOT NULL,
    date DATE NOT NULL
);

#table openingTime
CREATE TABLE openingTime(
        openingTime_id INT PRIMARY KEY AUTO_INCREMENT NOT NULL, 
        day VARCHAR (50) NOT NULL,
        morningOpen VARCHAR (50) NOT NULL,
        morningClose VARCHAR (50) NOT NULL,
        afternoonOpen VARCHAR (50) NOT NULL,
        afertnooClose VARCHAR (50) NOT NULL
);

# table Car
CREATE TABLE car(
        car_id INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
        model VARCHAR (50) NOT NULL,
        year INT NOT NULL,
        price VARCHAR(50) NOT NULL,
        kilometer VARCHAR (100) NOT NULL,
        full VARCHAR(50) NOT NULL,
        color VARCHAR (50) NOT NULL
);

#table service
CREATE TABLE service(
        service_id INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
        service VARCHAR (30) NOT NULL,
        description VARCHAR (250) NOT NULL,
        image VARCHAR (250) NOT NULL
);

#table user
CREATE TABLE user(
        user_id INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
        name VARCHAR (50) NOT NULL,
        firstname VARCHAR (50) NOT NULL,
        mail VARCHAR (50) NOT NULL,
        passeword Varchar (50) NOT NULL
);

#table picture
CREATE TABLE picture(
        picture_id INT PRIMARY KEY AUTO_INCREMENT  NOT NULL ,
        is_principal BOOL NOT NULL ,
        image1 VARCHAR (250) NOT NULL ,
        image2 VARCHAR (250) NOT NULL ,
        image3 VARCHAR (250) NOT NULL ,
        car_id INT NOT NULL,
    	CONSTRAINT picture_car_FK FOREIGN KEY (car_id) REFERENCES car(car_id)
);

# table role
CREATE TABLE role(
        role_id INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
        name VARCHAR (250) NOT NULL,
        openingTime_id INT NOT NULL,
        service_id INT NOT NULL,
	CONSTRAINT role_OpeningTime_FK FOREIGN KEY (openingTime_id) REFERENCES OpeningTime(openingTime_id),
	CONSTRAINT role_Service0_FK FOREIGN KEY (service_id) REFERENCES Service(service_id)
);

# table form
CREATE TABLE form(
        form_id INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
        name VARCHAR (50) NOT NULL,
        surname VARCHAR (50) NOT NULL,
        mail VARCHAR (50) NOT NULL,
        modele VARCHAR (50) NOT NULL,
        subject VARCHAR (50) NOT NULL,
        message VARCHAR (250) NOT NULL,
        date DATE NOT null
);

# table role_car (add modify delete)
CREATE TABLE role_car(
        role_id INT NOT NULL,
        car_id  INT NOT null,
	CONSTRAINT role_car_PK PRIMARY KEY (role_id,car_id),
	CONSTRAINT role_car_role_FK FOREIGN KEY (role_id) REFERENCES role(role_id),
	CONSTRAINT role_car_car0_FK FOREIGN KEY (car_id) REFERENCES car(car_id)
);


#table role_opinion (delete add create)
CREATE TABLE role_opinion(
        role_id INT NOT NULL,
        opinion_id INT NOT null,
	CONSTRAINT role_opinion_PK PRIMARY KEY (role_id,opinion_id),
	CONSTRAINT role_opinion_role_FK FOREIGN KEY (role_id) REFERENCES role(role_id),
	CONSTRAINT role_opinion_opinion0_FK FOREIGN KEY (opinion_id) REFERENCES opinion(opinion_id)
);

#table car_form (fill)
CREATE TABLE car_form(
        form_id INT NOT NULL,
        car_id  INT NOT null,
	CONSTRAINT car_form_PK PRIMARY KEY (form_id,car_id),
	CONSTRAINT car_form_form_FK FOREIGN KEY (form_id) REFERENCES form(form_id),
	CONSTRAINT car_form_car0_FK FOREIGN KEY (car_id) REFERENCES car(car_id)
);


#table user_role (possess)
CREATE TABLE user_role(
        role_id INT NOT NULL,
        user_id INT NOT null,
	CONSTRAINT user_role PRIMARY KEY (role_id,user_id),
	CONSTRAINT user_role_FK FOREIGN KEY (role_id) REFERENCES role(role_id),
	CONSTRAINT user_role0_FK FOREIGN KEY (user_id) REFERENCES user(user_id)
);
